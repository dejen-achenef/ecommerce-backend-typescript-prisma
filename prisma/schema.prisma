generator client {
  provider = "prisma-client-js"  // must be "prisma-client-js"
  output   = "../generated/prisma"
}

model User {
  id        String    @id @default(uuid())
  username  String
  email     String    @unique
  password  String
  createdAt DateTime  @default(now())
  products  Product[] // one-to-many: User -> Product
  orders    Order[]   // one-to-many: User -> Order
}

model Product {
  id          String   @id @default(uuid())
  name        String
  description String
  price       Float
  stock       Int
  category    String?
  userId      String
  user        User     @relation(fields: [userId], references: [id])
  orders      Order[]  @relation("OrderProducts") // many-to-many with Order
}

model Order {
  id          String    @id @default(uuid())
  userId      String
  user        User      @relation(fields: [userId], references: [id])
  description String
  totalPrice  Float
  status      String
  products    Product[] @relation("OrderProducts") // many-to-many relation
  createdAt   DateTime  @default(now())
}
